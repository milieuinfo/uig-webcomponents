<!DOCTYPE html>
<html>
  <head>
    <title>vl-map-draw-action voorbeeld</title>
    <script type="module" src="../../../../../../../../build/index.js"></script>
    <link rel="stylesheet" type="text/css" href="../../../../../../../../lib/components/body/styles.css" />
  </head>

  <body is="vl-body">
    <div style="width: 781px">
      <vl-map id="map-with-draw-point-action">
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-baselayer-grb></vl-map-baselayer-grb>
        <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
        <vl-map-features-layer id="point-layer">
          <vl-map-layer-circle-style></vl-map-layer-circle-style>
          <vl-map-draw-point-action id="draw-point-action" data-vl-default-active></vl-map-draw-point-action>
        </vl-map-features-layer>
      </vl-map>

      <vl-map id="map-with-draw-line-action">
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-baselayer-grb></vl-map-baselayer-grb>
        <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
        <vl-map-features-layer id="line-layer">
          <vl-map-layer-style></vl-map-layer-style>
          <vl-map-draw-line-action id="draw-line-action" data-vl-default-active></vl-map-draw-line-action>
        </vl-map-features-layer>
      </vl-map>

      <vl-map id="map-with-draw-polygon-action">
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-baselayer-grb></vl-map-baselayer-grb>
        <vl-map-baselayer-grb-ortho></vl-map-baselayer-grb-ortho>
        <vl-map-features-layer id="polygon-layer">
          <vl-map-layer-style></vl-map-layer-style>
          <vl-map-draw-polygon-action id="draw-polygon-action" data-vl-default-active></vl-map-draw-polygon-action>
        </vl-map-features-layer>
      </vl-map>

      <vl-map id="map-with-draw-point-snap-action">
        <vl-map-side-sheet>
          <vl-map-layer-switcher></vl-map-layer-switcher>
        </vl-map-side-sheet>
        <vl-map-search></vl-map-search>
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-features-layer id="point-layer">
          <vl-map-layer-circle-style
            data-vl-color="rgba(34, 39, 255, 0.4)"
            data-vl-border-color="rgba(0, 5, 218, 1)"
            data-vl-border-size="1"
          ></vl-map-layer-circle-style>
          <vl-map-layer-style
            data-vl-color="rgba(34, 39, 255, 0.4)"
            data-vl-border-color="rgba(0, 5, 218, 1)"
            data-vl-border-size="1"
          ></vl-map-layer-style>
          <vl-map-draw-point-action
            id="draw-point-snap-action"
            data-vl-default-active
            data-vl-snapping
            data-vl-snapping-pixel-tolerance="1000"
          >
            <vl-map-wfs-layer
              data-vl-name="Stromend waterlichamen"
              data-vl-url="https://geoserver.vmm.be/geoserver/vmm/wfs"
              data-vl-layers="owl_l"
              data-vl-max-resolution="4"
            >
              <vl-map-layer-style
                data-vl-color="rgba(6, 163, 247, 0.4)"
                data-vl-border-size="4"
                data-vl-border-color="rgba(6, 163, 247, 1)"
              ></vl-map-layer-style>
            </vl-map-wfs-layer>

            <vl-map-wfs-layer
              data-vl-name="Stilstaand waterlichamen"
              data-vl-url="https://gisservices.inbo.be/arcgis/services/Watervlakken/MapServer/WFSServer?service=wfs"
              data-vl-layers="Watervlakken"
              data-vl-max-resolution="4"
            >
              <vl-map-layer-style
                data-vl-color="rgba(6, 163, 247, 0.4)"
                data-vl-border-size="4"
                data-vl-border-color="rgba(6, 163, 247, 1)"
              >
              </vl-map-layer-style>
            </vl-map-wfs-layer>
          </vl-map-draw-point-action>
        </vl-map-features-layer>
      </vl-map>

      <vl-map id="map-with-measure-action">
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-features-layer>
          <vl-map-measure-action id="measure-action" data-vl-default-active></vl-map-measure-action>
        </vl-map-features-layer>
      </vl-map>

      <vl-map id="map-with-measure-action-with-control">
        <vl-map-controls>
          <vl-map-measure-control id="measure-action-control"></vl-map-measure-control>
        </vl-map-controls>
        <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
        <vl-map-features-layer>
          <vl-map-measure-action id="measure-action-with-control"></vl-map-measure-action>
        </vl-map-features-layer>
      </vl-map>

      <div>
        <vl-toggle-button
          id="measure-action-control-outside"
          onClick="() => {console.log('click');onOutsideControlClick();}"
          >Meten</vl-toggle-button
        >
        <vl-map id="map-with-measure-action-with-outside-control">
          <vl-map-baselayer-grb-gray></vl-map-baselayer-grb-gray>
          <vl-map-features-layer>
            <vl-map-measure-action id="measure-action-with-outside-control"></vl-map-measure-action>
          </vl-map-features-layer>
        </vl-map>
      </div>
    </div>

    <script>
      const outsideControl = document.getElementById('measure-action-control-outside');

      outsideControl.addEventListener('click', () => {
        const measureAction = document.getElementById('measure-action-with-outside-control');
        measureAction.active = !measureAction.active;
      });
    </script>
  </body>
</html>
